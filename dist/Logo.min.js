var LogoJS=function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(t,e,n){"use strict";function r(t){return t.split("\n").join(" ").split(" ")}function a(t){for(;t.length>0;)o(t.shift(),t)}var i=n(1),s=(n(2),n(3));let o=s.a.EXECUTING_COMMANDS;e.a={reset:function(){s.a.routines={},o=s.a.EXECUTING_COMMANDS},parse:function(t){return i.a.instantiate(),a(r(t)),()=>i.a.execute()},setCurrentState:function(t){o=t},generateExecutions:a}},function(t,e,n){"use strict";var r=n(10);class a{constructor(){this.instantiate()}instantiate(){this.currentRepeat=new r.a(null,1),this.masterRepeat=this.currentRepeat}pushExecution(t){this.currentRepeat.executions.push(t)}pushNewRepeat(t){let e=new r.a(this.currentRepeat,t);this.pushExecution(e),this.currentRepeat=e}closeCurrentRepeat(){if(null===this.currentRepeat.parent)throw new Error("endrepeat called without matching repeat");this.currentRepeat=this.currentRepeat.parent}execute(){if(this.currentRepeat===this.masterRepeat)return this.masterRepeat.execute();throw new Error("Unclosed repeat defined")}}e.a=new a},function(t,e,n){"use strict";e.a={FORWARD:"forward",BACK:"back",LEFT:"left",RIGHT:"right",ROUTINE:"routine",STARTROUTINE:"startroutine",ENDROUTINE:"endroutine",REPEAT:"repeat",ENDREPEAT:"endrepeat",UP:"up",DOWN:"down"}},function(t,e,n){"use strict";function r(t,e){let n=e.splice(0,t.parameterSchema.length);return t.createExecution(n)}function a(t,e){let n=e.splice(0,t.parameterSchema.length);return t.createExecution(n)}function i(t,e){let n=e.splice(0,t.parameters.length);c.a.generateExecutions(t.parseBody(n))}var s=n(11),o=n(2),u=n(1),c=n(0),h=n(3);let p=null;e.a={EXECUTING_COMMANDS:(t,e)=>{if(void 0!==s.a.control.getItem(t))r(s.a.control.getItem(t),e).execute();else if(void 0!==s.a.command.getItem(t))u.a.pushExecution(a(s.a.command.getItem(t),e));else{if(void 0===s.a.routine.getItem(t))throw new Error(`Control or Command not found: ${t}`);i(s.a.routine.getItem(t),e)}},DEFINING_ROUTINE_PARAMETERS:(t,e)=>{if(t===o.a.STARTROUTINE)c.a.setCurrentState(h.a.DEFINING_ROUTINE_BODY);else{if(-1!==Object.values(o.a).indexOf(t))throw new Error(`Keyword ${t} not allowed as routine parameter`);p.parameters.push(t)}},DEFINING_ROUTINE_BODY:(t,e)=>{t===o.a.ENDROUTINE?(c.a.setCurrentState(h.a.EXECUTING_COMMANDS),s.a.routine.setItem(p.name,p),p=null):p.body.push(t)},getCurrentRoutineDefinition:function(){return p},setCurrentRoutineDefinition:function(t){p=t}}},function(t,e,n){"use strict";class r{constructor(){this.register={}}setItem(t,e){this.register[t]=e}getItem(t){return this.register[t]}getKeys(){return Object.keys(this.register)}}e.a=r},function(t,e,n){"use strict";var r=n(6);class a{constructor(t,e){this.reset(t,e)}reset(t,e){this.position=void 0!==t?t:new r.a(0,0,180),this.penDown=void 0===e||e}getCopy(){return{position:this.position,penDown:this.penDown}}move(t){let e=Math.PI*this.position.angle/180;return this.position=new r.a(this.position.x+t*Math.sin(e),this.position.y+t*Math.cos(e),this.position.angle),this.getCopy()}rotate(t){let e=this.position.angle+t;return this.position=new r.a(this.position.x,this.position.y,e),this.getCopy()}}e.a=new a},function(t,e,n){"use strict";class r{constructor(t,e,n){this.x=t,this.y=e,(n%=360)<0&&(n+=360),this.angle=n}}e.a=r},function(t,e,n){"use strict";var r=n(2);class a{constructor(t,e){this.validate=t,this.transform=e}}e.a={FINITE_NUMBER:new a(t=>isFinite(t),t=>parseFloat(t)),UP_DOWN:new a(t=>t===r.a.UP||t===r.a.DOWN,t=>t),NOT_KEYWORD:new a(t=>/^[a-z].*/.test(t)&&-1===Object.values(r.a).indexOf(t),t=>t.toString())}},function(t,e,n){"use strict";class r{constructor(t,e){this.parameterSchema=t,this.execute=e}valid(t){return this.parameterSchema.length===t.length&&this.parameterSchema.every((e,n)=>e.validate(t[n]))}createExecution(t){if(this.valid(t))return{execute:()=>(t=t.map((t,e)=>this.parameterSchema[e].transform(t)),this.execute(...t))};throw new Error(`Invalid parameters: ${t}`)}}e.a=r},function(t,e,n){"use strict";function r(){return a.a.reset(),s.a.reset(),this}Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),i=n(6),s=n(0);e.default={reset:r,setPosition:function(t){return a.a.position=new i.a(t.x,t.y,t.angle),this},getPosition:function(){return a.a.position},execute:function(t){try{let e=[a.a.getCopy()],n=s.a.parse(t);return e=e.concat(n()),r(),e}catch(t){throw r(),t}}}},function(t,e,n){"use strict";class r{constructor(t,e){this.parent=t,this.frequency=e,this.executions=[]}execute(){let t=[];for(let e=0;e<this.frequency;e++)t=this.executions.reduce((t,e)=>{let n=e.execute();return Array.isArray(n)?t=t.concat(n):t.push(n),t},t);return t}}e.a=r},function(t,e,n){"use strict";var r=n(12),a=n(13),i=n(15);e.a={command:r.a,control:a.a,routine:i.a,getAllKeys:function(){return[...r.a.getKeys(),...a.a.getKeys(),...i.a.getKeys()]}}},function(t,e,n){"use strict";var r=n(7),a=n(8),i=n(5);let s=new(n(4).a);s.setItem("forward",new a.a([r.a.FINITE_NUMBER],t=>i.a.move(t))),s.setItem("back",new a.a([r.a.FINITE_NUMBER],t=>i.a.move(0-t))),s.setItem("left",new a.a([r.a.FINITE_NUMBER],t=>i.a.rotate(t))),s.setItem("right",new a.a([r.a.FINITE_NUMBER],t=>i.a.rotate(0-t))),s.setItem("pen",new a.a([r.a.UP_DOWN],t=>(i.a.penDown="down"===t,i.a.getCopy()))),e.a=s},function(t,e,n){"use strict";var r=n(7),a=n(8),i=n(3),s=n(0),o=n(14),u=n(1);let c=new(n(4).a);c.setItem("routine",new a.a([r.a.NOT_KEYWORD],t=>{i.a.setCurrentRoutineDefinition(new o.a(t)),s.a.setCurrentState(i.a.DEFINING_ROUTINE_PARAMETERS)})),c.setItem("startroutine",new a.a([],()=>{throw new Error("startroutine called without routine")})),c.setItem("endroutine",new a.a([],()=>{throw new Error("endroutine called without routine")})),c.setItem("repeat",new a.a([r.a.FINITE_NUMBER],t=>{u.a.pushNewRepeat(t)})),c.setItem("endrepeat",new a.a([],()=>{u.a.closeCurrentRepeat()})),e.a=c},function(t,e,n){"use strict";function r(t,e){if(t.length===e.length)return e.reduce((e,n,r)=>(e[n]=t[r],e),{})}class a{constructor(t){this.name=t,this.parameters=[],this.body=[]}parseBody(t){let e=r(t,this.parameters);return this.body.map(t=>void 0!==e[t]?e[t]:t)}}e.a=a},function(t,e,n){"use strict";var r=n(4);e.a=new r.a}]).default;