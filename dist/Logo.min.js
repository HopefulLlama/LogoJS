var LogoJS=function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,n){"use strict";function r(t){for(;t.length>0;)s(t.shift(),t)}e.__esModule=!0;var u=n(1),o=n(2),i=n(17),a=n(6),s=o.default.EXECUTING_COMMANDS;e.default={reset:function(){a.default.routine.reset(),s=o.default.EXECUTING_COMMANDS},parse:function(t){return u.default.instantiate(),r(i.default.tokenize(t)),function(){return u.default.execute()}},setCurrentState:function(t){s=t},generateExecutions:r}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(12),u=function(){function t(){this.instantiate()}return t.prototype.instantiate=function(){this.currentRepeat=new r.default(null,1),this.masterRepeat=this.currentRepeat},t.prototype.pushExecution=function(t){this.currentRepeat.executions.push(t)},t.prototype.pushNewRepeat=function(t){var e=new r.default(this.currentRepeat,t);this.pushExecution(e),this.currentRepeat=e},t.prototype.closeCurrentRepeat=function(){if(null===this.currentRepeat.parent)throw new Error("endrepeat called without matching repeat");this.currentRepeat=this.currentRepeat.parent},t.prototype.execute=function(){if(this.currentRepeat===this.masterRepeat)return this.masterRepeat.execute();throw new Error("Unclosed repeat defined")},t}();e.default=new u},function(t,e,n){"use strict";function r(t,e){var n=e.splice(0,t.parameterSchema.length);return t.createExecution(n)}function u(t,e){var n=e.splice(0,t.parameterSchema.length);return t.createExecution(n)}function o(t,e){var n=e.splice(0,t.parameters.length);c.default.generateExecutions(t.parseBody(n))}e.__esModule=!0;var i=n(6),a=n(10),s=n(8),f=n(1),c=n(0),l=n(2);e.default={EXECUTING_COMMANDS:function(t,e){if(void 0!==i.default.control.getItem(t))r(i.default.control.getItem(t),e).execute();else if(void 0!==i.default.command.getItem(t))f.default.pushExecution(u(i.default.command.getItem(t),e));else{if(void 0===i.default.routine.getItem(t))throw new Error("Control or Command not found: "+t);o(i.default.routine.getItem(t),e)}},DEFINING_ROUTINE_PARAMETERS:function(t,e){if(t===s.default.STARTROUTINE)c.default.setCurrentState(l.default.DEFINING_ROUTINE_BODY);else{if(-1!==Object.values(s.default).indexOf(t))throw new Error("Keyword "+t+" not allowed as routine parameter");a.default.addParameter(t)}},DEFINING_ROUTINE_BODY:function(t,e){if(t===s.default.ENDROUTINE){c.default.setCurrentState(l.default.EXECUTING_COMMANDS);var n=a.default.generateRoutine();i.default.routine.setItem(n.name,n)}else a.default.addToBody(t)}}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(){this.register={}}return t.prototype.setItem=function(t,e){this.register[t]=e},t.prototype.getItem=function(t){return this.register[t]},t.prototype.getKeys=function(){return Object.keys(this.register)},t.prototype.reset=function(){this.register={}},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5),u=function(){function t(t,e){this.reset(t,e)}return t.prototype.reset=function(t,e){this.position=t,this.penDown=e},t.prototype.getCopy=function(){return{position:this.position,penDown:this.penDown}},t.prototype.move=function(t){var e=Math.PI*this.position.angle/180;return this.position=new r.default(this.position.x+t*Math.sin(e),this.position.y+t*Math.cos(e),this.position.angle),this.getCopy()},t.prototype.rotate=function(t){var e=this.position.angle+t;return this.position=new r.default(this.position.x,this.position.y,e),this.getCopy()},t}();e.default=new u(new r.default(0,0,180),!0)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){return function(t,e,n){this.x=t,this.y=e,(n%=360)<0&&(n+=360),this.angle=n}}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(13),u=n(14),o=n(16);e.default={command:r.default,control:u.default,routine:o.default,getAllKeys:function(){return r.default.getKeys().concat(u.default.getKeys(),o.default.getKeys())}}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(8),u=function(){return function(t,e){this.validate=t,this.transform=e}}();e.default={FINITE_NUMBER:new u(function(t){return isFinite(t)},function(t){return parseFloat(t)}),UP_DOWN:new u(function(t){return t===r.default.UP||t===r.default.DOWN},function(t){return t.toString()}),NOT_KEYWORD:new u(function(t){return/^[a-z].*/.test(t)&&-1===Object.values(r.default).indexOf(t)},function(t){return t.toString()})}},function(t,e,n){"use strict";e.__esModule=!0,e.default={FORWARD:"forward",BACK:"back",LEFT:"left",RIGHT:"right",ROUTINE:"routine",STARTROUTINE:"startroutine",ENDROUTINE:"endroutine",REPEAT:"repeat",ENDREPEAT:"endrepeat",UP:"up",DOWN:"down"}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){this.parameterSchema=t,this.execute=e}return t.prototype.valid=function(t){return this.parameterSchema.length===t.length&&this.parameterSchema.every(function(e,n){return e.validate(t[n])})},t.prototype.createExecution=function(t){var e=this;if(this.valid(t))return{execute:function(){return t=t.map(function(t,n){return e.parameterSchema[n].transform(t)}),e.execute.apply(e,t)}};throw new Error("Invalid parameters: "+t)},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r,u,o,i=n(15),a=function(){function t(){this.start()}return t.prototype.start=function(){return r=null,u=[],o=[],this},t.prototype.setName=function(t){return r=t,this},t.prototype.addParameter=function(t){return u.push(t),this},t.prototype.addToBody=function(t){return o.push(t),this},t.prototype.generateRoutine=function(){var t=new i.default(r,u,o);return this.start(),t},t}();e.default=new a},function(t,e,n){"use strict";function r(){return u.default.reset(new o.default(0,0,180),!0),i.default.reset(),this}e.__esModule=!0;var u=n(4),o=n(5),i=n(0);e.default={reset:r,setPosition:function(t){return u.default.position=new o.default(t.x,t.y,t.angle),this},getPosition:function(){return u.default.position},execute:function(t){try{var e=[u.default.getCopy()],n=i.default.parse(t);return e=e.concat(n()),r(),e}catch(t){throw r(),t}}}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){this.parent=t,this.frequency=e,this.executions=[]}return t.prototype.execute=function(){for(var t=[],e=0;e<this.frequency;e++)t=this.executions.reduce(function(t,e){var n=e.execute();return Array.isArray(n)?t=t.concat(n):t.push(n),t},t);return t},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(7),u=n(9),o=n(4),i=new(n(3).default);i.setItem("forward",new u.default([r.default.FINITE_NUMBER],function(t){return o.default.move(t)})),i.setItem("back",new u.default([r.default.FINITE_NUMBER],function(t){return o.default.move(0-t)})),i.setItem("left",new u.default([r.default.FINITE_NUMBER],function(t){return o.default.rotate(t)})),i.setItem("right",new u.default([r.default.FINITE_NUMBER],function(t){return o.default.rotate(0-t)})),i.setItem("pen",new u.default([r.default.UP_DOWN],function(t){return o.default.penDown="down"===t,o.default.getCopy()})),e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=n(7),u=n(9),o=n(2),i=n(0),a=n(1),s=n(3),f=n(10),c=new s.default;c.setItem("routine",new u.default([r.default.NOT_KEYWORD],function(t){f.default.start(),f.default.setName(t),i.default.setCurrentState(o.default.DEFINING_ROUTINE_PARAMETERS)})),c.setItem("startroutine",new u.default([],function(){throw new Error("startroutine called without routine")})),c.setItem("endroutine",new u.default([],function(){throw new Error("endroutine called without routine")})),c.setItem("repeat",new u.default([r.default.FINITE_NUMBER],function(t){a.default.pushNewRepeat(t)})),c.setItem("endrepeat",new u.default([],function(){a.default.closeCurrentRepeat()})),e.default=c},function(t,e,n){"use strict";function r(t,e){if(t.length===e.length)return e.reduce(function(e,n,r){return e[n]=t[r],e},{})}e.__esModule=!0;var u=function(){function t(t,e,n){this.name=t,this.parameters=e,this.body=n}return t.prototype.parseBody=function(t){var e=r(t,this.parameters);return this.body.map(function(t){return void 0!==e[t]?e[t]:t})},t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e.default=new r.default},function(t,e,n){"use strict";e.__esModule=!0,e.default={tokenize:function(t){return t.split("\n").join(" ").split(" ")}}}]).default;