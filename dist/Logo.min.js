var LogoJS=function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),u=n(2),o=n(21),i=n(7),a=n(11),f=u.default.EXECUTING_COMMANDS;function s(e,t){for(;e.length>0;)f(e.shift(),e,t)}t.default={reset:function(){i.default.routine.reset(),f=u.default.EXECUTING_COMMANDS},parse:function(e){return r.default.instantiate(),s(o.default.tokenize(e),new a.default(new Map)),function(){return r.default.execute()}},setCurrentState:function(e){f=e},generateExecutions:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),u=function(){function e(){this.instantiate()}return e.prototype.instantiate=function(){this.currentRepeat=new r.default(null,1),this.masterRepeat=this.currentRepeat},e.prototype.pushExecution=function(e){this.currentRepeat.executions.push(e)},e.prototype.pushNewRepeat=function(e){var t=new r.default(this.currentRepeat,e);this.pushExecution(t),this.currentRepeat=t},e.prototype.closeCurrentRepeat=function(){if(null===this.currentRepeat.parent)throw new Error("endrepeat called without matching repeat");this.currentRepeat=this.currentRepeat.parent},e.prototype.execute=function(){if(this.currentRepeat===this.masterRepeat)return this.masterRepeat.execute();throw new Error("Unclosed repeat defined")},e}();t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),u=n(6),o=n(7),i=n(0),a=n(2),f=n(10),s=n(20);t.default={EXECUTING_COMMANDS:function(e,t,n){if(void 0!==o.default.control.getItem(e))(function(e,t,n){var r=n.substituteParameters(t.splice(0,e.parameterSchema.length));return e.createExecution(r)})(o.default.control.getItem(e),t,n).execute();else if(void 0!==o.default.command.getItem(e))r.default.pushExecution(function(e,t,n){var r=n.substituteParameters(t.splice(0,e.parameterSchema.length));return e.createExecution(r)}(o.default.command.getItem(e),t,n));else{if(void 0===o.default.routine.getItem(e))throw new Error("Control or Command not found: "+e);!function(e,t,n){s.default.push(e.name);var r=t.splice(0,e.parameters.length),u=e.createParameterValueMap(r);i.default.generateExecutions(e.getBody(),u),s.default.pop()}(o.default.routine.getItem(e),t)}},DEFINING_ROUTINE_PARAMETERS:function(e,t,n){if(e===u.default.STARTROUTINE)i.default.setCurrentState(a.default.DEFINING_ROUTINE_BODY);else{if(-1!==Object.values(u.default).indexOf(e))throw new Error("Keyword "+e+" not allowed as routine parameter");f.default.addParameter(e)}},DEFINING_ROUTINE_BODY:function(e,t,n){if(e===u.default.ENDROUTINE){i.default.setCurrentState(a.default.EXECUTING_COMMANDS);var r=f.default.generateRoutine();o.default.routine.setItem(r.name,r)}else f.default.addToBody(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.register={}}return e.prototype.setItem=function(e,t){this.register[e]=t},e.prototype.getItem=function(e){return this.register[e]},e.prototype.getKeys=function(){return Object.keys(this.register)},e.prototype.reset=function(){this.register={}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),u=function(){function e(e,t,n){this.reset(e,t,n)}return e.prototype.reset=function(e,t,n){this.position=e,this.penDown=t,this.colour=n},e.prototype.getCopy=function(){return{position:this.position,penDown:this.penDown,colour:this.colour}},e.prototype.move=function(e){var t=Math.PI*this.position.angle/180;return this.position=new r.default(this.position.x+e*Math.sin(t),this.position.y+e*Math.cos(t),this.position.angle),this.getCopy()},e.prototype.rotate=function(e){var t=this.position.angle+e;return this.position=new r.default(this.position.x,this.position.y,t),this.getCopy()},e}();t.default=new u(new r.default(0,0,180),!0,"#000000")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n){this.x=e,this.y=t,(n%=360)<0&&(n+=360),this.angle=n}}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={FORWARD:"forward",BACK:"back",LEFT:"left",RIGHT:"right",ROUTINE:"routine",STARTROUTINE:"startroutine",ENDROUTINE:"endroutine",REPEAT:"repeat",ENDREPEAT:"endrepeat",UP:"up",DOWN:"down"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),u=n(17),o=n(19);t.default={command:r.default,control:u.default,routine:o.default,getAllKeys:function(){return r.default.getKeys().concat(u.default.getKeys(),o.default.getKeys())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),u=n(15);function o(e,t){return"Expected "+e+", but got "+t}t.default={FINITE_NUMBER:new u.default(function(e){var t=parseFloat(e);if(!isNaN(t)&&isFinite(t))return t;throw new Error(o("a float",e))}),POSITIVE_INTEGER:new u.default(function(e){var t=Math.floor(Number(e));if(String(t)===e&&t>0)return t;throw new Error(o("an integer greater than zero",e))}),UP_DOWN:new u.default(function(e){if(e===r.default.UP||e===r.default.DOWN)return e;throw new Error(o('either "up" or "down"',e))}),NOT_KEYWORD:new u.default(function(e){if(new RegExp(/^[a-z].*/).test(e)&&-1===Object.values(r.default).indexOf(e))return e;throw new Error(o("non-reserved word","reserved word: "+e))}),HEXADECIMAL:new u.default(function(e){if(new RegExp(/^#[0-9a-f]{6}$/).test(e))return e;throw new Error(o('six digit hexadecimal colour (prefixed with "#")',e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),u=function(){function e(e,t){this.parameterSchema=e,this.execute=t}return e.prototype.createExecution=function(e){var t=this;return new r.default(function(){return e=e.map(function(e,n){return t.parameterSchema[n].validateAndTransform(e)}),t.execute.apply(t,e)})},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u,o,i=n(18),a=function(){function e(){this.start()}return e.prototype.start=function(){return r=null,u=[],o=[],this},e.prototype.setName=function(e){return r=e,this},e.prototype.addParameter=function(e){return u.push(e),this},e.prototype.addToBody=function(e){return o.push(e),this},e.prototype.generateRoutine=function(){var e=new i.default(r,u,o);return this.start(),e},e}();t.default=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.map=e}return e.prototype.substituteParameters=function(e){var t=this;return e.map(function(e){return t.map.has(e)?t.map.get(e):e})},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),u=n(5),o=n(0);function i(){return r.default.reset(new u.default(0,0,180),!0,"#000000"),o.default.reset(),this}t.default={reset:i,setPosition:function(e){return r.default.position=new u.default(e.x,e.y,e.angle),this},getPosition:function(){return r.default.position},execute:function(e){try{var t=[r.default.getCopy()],n=o.default.parse(e);return t=t.concat(n()),i(),t}catch(e){throw i(),e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.parent=e,this.frequency=t,this.executions=[]}return e.prototype.execute=function(){for(var e=[],t=0;t<this.frequency;t++)e=this.executions.reduce(function(e,t){var n=t.execute();return Array.isArray(n)?e=e.concat(n):e.push(n),e},e);return e},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),u=n(9),o=n(4),i=new(n(3).default);i.setItem("forward",new u.default([r.default.FINITE_NUMBER],function(e){return o.default.move(e)})),i.setItem("back",new u.default([r.default.FINITE_NUMBER],function(e){return o.default.move(0-e)})),i.setItem("left",new u.default([r.default.FINITE_NUMBER],function(e){return o.default.rotate(e)})),i.setItem("right",new u.default([r.default.FINITE_NUMBER],function(e){return o.default.rotate(0-e)})),i.setItem("pen",new u.default([r.default.UP_DOWN],function(e){return o.default.penDown="down"===e,o.default.getCopy()})),i.setItem("colour",new u.default([r.default.HEXADECIMAL],function(e){return o.default.colour=e,o.default.getCopy()})),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){this.validateAndTransform=e}}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){this.execute=e}}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),u=n(9),o=n(2),i=n(0),a=n(1),f=n(3),s=n(10),c=new f.default;c.setItem("routine",new u.default([r.default.NOT_KEYWORD],function(e){s.default.start(),s.default.setName(e),i.default.setCurrentState(o.default.DEFINING_ROUTINE_PARAMETERS)})),c.setItem("startroutine",new u.default([],function(){throw new Error("startroutine called without routine")})),c.setItem("endroutine",new u.default([],function(){throw new Error("endroutine called without routine")})),c.setItem("repeat",new u.default([r.default.POSITIVE_INTEGER],function(e){a.default.pushNewRepeat(e)})),c.setItem("endrepeat",new u.default([],function(){a.default.closeCurrentRepeat()})),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),u=function(){function e(e,t,n){this.name=e,this.parameters=t,this.body=n}return e.prototype.createParameterValueMap=function(e){var t=new Map;return e.length===this.parameters.length&&this.parameters.reduce(function(t,n,r){return t.set(n,e[r]),t},t),new r.default(t)},e.prototype.getBody=function(){return this.body.slice()},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default=new r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.stack=[]}return e.prototype.push=function(e){var t=this.stack.indexOf(e);if(this.stack.push(e),t>-1){var n=this.stack.slice(t,this.stack.length).join(" -> ");throw this.stack=[],new Error("Infinite call stack detected at: "+n)}},e.prototype.pop=function(){this.stack.pop()},e}();t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={tokenize:function(e){var t=new RegExp(/\S+/,"g");return e.match(t)||[]}}}]).default;