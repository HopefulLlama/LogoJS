var LogoJS=function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";function r(e,t){for(;e.length>0;)s(e.shift(),e,t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=n(2),a=n(20),i=n(6),f=n(11),s=o.default.EXECUTING_COMMANDS;t.default={reset:function(){i.default.routine.reset(),s=o.default.EXECUTING_COMMANDS},parse:function(e){return u.default.instantiate(),r(a.default.tokenize(e),new f.default(new Map)),function(){return u.default.execute()}},setCurrentState:function(e){s=e},generateExecutions:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),u=function(){function e(){this.instantiate()}return e.prototype.instantiate=function(){this.currentRepeat=new r.default(null,1),this.masterRepeat=this.currentRepeat},e.prototype.pushExecution=function(e){this.currentRepeat.executions.push(e)},e.prototype.pushNewRepeat=function(e){var t=new r.default(this.currentRepeat,e);this.pushExecution(t),this.currentRepeat=t},e.prototype.closeCurrentRepeat=function(){if(null===this.currentRepeat.parent)throw new Error("endrepeat called without matching repeat");this.currentRepeat=this.currentRepeat.parent},e.prototype.execute=function(){if(this.currentRepeat===this.masterRepeat)return this.masterRepeat.execute();throw new Error("Unclosed repeat defined")},e}();t.default=new u},function(e,t,n){"use strict";function r(e,t,n){var r=n.substituteParameters(t.splice(0,e.parameterSchema.length));return e.createExecution(r)}function u(e,t,n){var r=n.substituteParameters(t.splice(0,e.parameterSchema.length));return e.createExecution(r)}function o(e,t,n){var r=t.splice(0,e.parameters.length),u=e.createParameterValueMap(r);c.default.generateExecutions(e.body,u)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=n(10),f=n(8),s=n(1),c=n(0),l=n(2);t.default={EXECUTING_COMMANDS:function(e,t,n){if(void 0!==a.default.control.getItem(e))r(a.default.control.getItem(e),t,n).execute();else if(void 0!==a.default.command.getItem(e))s.default.pushExecution(u(a.default.command.getItem(e),t,n));else{if(void 0===a.default.routine.getItem(e))throw new Error("Control or Command not found: "+e);o(a.default.routine.getItem(e),t)}},DEFINING_ROUTINE_PARAMETERS:function(e,t,n){if(e===f.default.STARTROUTINE)c.default.setCurrentState(l.default.DEFINING_ROUTINE_BODY);else{if(-1!==Object.values(f.default).indexOf(e))throw new Error("Keyword "+e+" not allowed as routine parameter");i.default.addParameter(e)}},DEFINING_ROUTINE_BODY:function(e,t,n){if(e===f.default.ENDROUTINE){c.default.setCurrentState(l.default.EXECUTING_COMMANDS);var r=i.default.generateRoutine();a.default.routine.setItem(r.name,r)}else i.default.addToBody(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.register={}}return e.prototype.setItem=function(e,t){this.register[e]=t},e.prototype.getItem=function(e){return this.register[e]},e.prototype.getKeys=function(){return Object.keys(this.register)},e.prototype.reset=function(){this.register={}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),u=function(){function e(e,t,n){this.reset(e,t,n)}return e.prototype.reset=function(e,t,n){this.position=e,this.penDown=t,this.colour=n},e.prototype.getCopy=function(){return{position:this.position,penDown:this.penDown,colour:this.colour}},e.prototype.move=function(e){var t=Math.PI*this.position.angle/180;return this.position=new r.default(this.position.x+e*Math.sin(t),this.position.y+e*Math.cos(t),this.position.angle),this.getCopy()},e.prototype.rotate=function(e){var t=this.position.angle+e;return this.position=new r.default(this.position.x,this.position.y,t),this.getCopy()},e}();t.default=new u(new r.default(0,0,180),!0,"#000000")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n){this.x=e,this.y=t,(n%=360)<0&&(n+=360),this.angle=n}}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),u=n(17),o=n(19);t.default={command:r.default,control:u.default,routine:o.default,getAllKeys:function(){return r.default.getKeys().concat(u.default.getKeys(),o.default.getKeys())}}},function(e,t,n){"use strict";function r(e,t){return"Expected "+e+", but got "+t}Object.defineProperty(t,"__esModule",{value:!0});var u=n(8),o=n(15);t.default={FINITE_NUMBER:new o.default(function(e){var t=parseFloat(e);if(!isNaN(t)&&isFinite(t))return t;throw new Error(r("a float",e))}),POSITIVE_INTEGER:new o.default(function(e){var t=Math.floor(Number(e));if(String(t)===e&&t>0)return t;throw new Error(r("an integer greater than zero",e))}),UP_DOWN:new o.default(function(e){if(e===u.default.UP||e===u.default.DOWN)return e;throw new Error(r('either "up" or "down"',e))}),NOT_KEYWORD:new o.default(function(e){if(/^[a-z].*/.test(e)&&-1===Object.values(u.default).indexOf(e))return e;throw new Error(r("non-reserved word","reserved word: "+e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={FORWARD:"forward",BACK:"back",LEFT:"left",RIGHT:"right",ROUTINE:"routine",STARTROUTINE:"startroutine",ENDROUTINE:"endroutine",REPEAT:"repeat",ENDREPEAT:"endrepeat",UP:"up",DOWN:"down"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),u=function(){function e(e,t){this.parameterSchema=e,this.execute=t}return e.prototype.createExecution=function(e){var t=this;return new r.default(function(){return e=e.map(function(e,n){return t.parameterSchema[n].validateAndTransform(e)}),t.execute.apply(t,e)})},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u,o,a=n(18),i=function(){function e(){this.start()}return e.prototype.start=function(){return r=null,u=[],o=[],this},e.prototype.setName=function(e){return r=e,this},e.prototype.addParameter=function(e){return u.push(e),this},e.prototype.addToBody=function(e){return o.push(e),this},e.prototype.generateRoutine=function(){var e=new a.default(r,u,o);return this.start(),e},e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.map=e}return e.prototype.substituteParameters=function(e){var t=this;return e.map(function(e){return t.map.has(e)?t.map.get(e):e})},e}();t.default=r},function(e,t,n){"use strict";function r(){return u.default.reset(new o.default(0,0,180),!0,"#000000"),a.default.reset(),this}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),o=n(5),a=n(0);t.default={reset:r,setPosition:function(e){return u.default.position=new o.default(e.x,e.y,e.angle),this},getPosition:function(){return u.default.position},execute:function(e){try{var t=[u.default.getCopy()],n=a.default.parse(e);return t=t.concat(n()),r(),t}catch(e){throw r(),e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.parent=e,this.frequency=t,this.executions=[]}return e.prototype.execute=function(){for(var e=[],t=0;t<this.frequency;t++)e=this.executions.reduce(function(e,t){var n=t.execute();return Array.isArray(n)?e=e.concat(n):e.push(n),e},e);return e},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),u=n(9),o=n(4),a=new(n(3).default);a.setItem("forward",new u.default([r.default.FINITE_NUMBER],function(e){return o.default.move(e)})),a.setItem("back",new u.default([r.default.FINITE_NUMBER],function(e){return o.default.move(0-e)})),a.setItem("left",new u.default([r.default.FINITE_NUMBER],function(e){return o.default.rotate(e)})),a.setItem("right",new u.default([r.default.FINITE_NUMBER],function(e){return o.default.rotate(0-e)})),a.setItem("pen",new u.default([r.default.UP_DOWN],function(e){return o.default.penDown="down"===e,o.default.getCopy()})),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){this.validateAndTransform=e}}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){this.execute=e}}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),u=n(9),o=n(2),a=n(0),i=n(1),f=n(3),s=n(10),c=new f.default;c.setItem("routine",new u.default([r.default.NOT_KEYWORD],function(e){s.default.start(),s.default.setName(e),a.default.setCurrentState(o.default.DEFINING_ROUTINE_PARAMETERS)})),c.setItem("startroutine",new u.default([],function(){throw new Error("startroutine called without routine")})),c.setItem("endroutine",new u.default([],function(){throw new Error("endroutine called without routine")})),c.setItem("repeat",new u.default([r.default.POSITIVE_INTEGER],function(e){i.default.pushNewRepeat(e)})),c.setItem("endrepeat",new u.default([],function(){i.default.closeCurrentRepeat()})),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),u=function(){function e(e,t,n){this.name=e,this.parameters=t,this.body=n}return e.prototype.createParameterValueMap=function(e){var t=new Map;return e.length===this.parameters.length&&this.parameters.reduce(function(t,n,r){return t.set(n,e[r]),t},t),new r.default(t)},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default=new r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={tokenize:function(e){return e.split("\n").join(" ").split(" ")}}}]).default;